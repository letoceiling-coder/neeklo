import{_ as w,c as t,a as o,w as k,b as c,t as f,d as b,v as x,n as g,e as i,f as y,g as v,r as n,h as _,u as h,i as E,o as d}from"./admin-DjQGoEOB.js";const S={name:"Login",setup(){const p=h(),e=E(),a=n(!1),r=n(""),l=n({}),m=n({email:"",password:""});return{form:m,loading:a,error:r,fieldErrors:l,handleSubmit:async()=>{a.value=!0,r.value="",l.value={};const s=await p.dispatch("login",m.value);s.success?e.push({name:"admin.dashboard"}):(r.value=s.error,s.fieldErrors&&(l.value=s.fieldErrors)),a.value=!1}}}},V={class:"flex min-h-screen items-center justify-center bg-background px-4"},C={class:"w-full max-w-md space-y-6"},N={class:"rounded-lg border bg-card p-6 shadow-sm"},B={key:0,class:"rounded-md bg-red-50 dark:bg-red-900/20 p-3 text-sm text-red-800 dark:text-red-200"},q={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},D={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},L=["disabled"],M={key:0},T={key:1},U={class:"text-center space-y-2"},j={class:"text-sm text-muted-foreground"},z={class:"text-sm text-muted-foreground"};function R(p,e,a,r,l,m){const u=_("router-link");return d(),t("div",V,[o("div",C,[e[9]||(e[9]=o("div",{class:"text-center"},[o("h1",{class:"text-3xl font-bold"},"Вход в систему"),o("p",{class:"text-muted-foreground mt-2"},"Введите ваши учетные данные")],-1)),o("div",N,[o("form",{onSubmit:e[2]||(e[2]=k((...s)=>r.handleSubmit&&r.handleSubmit(...s),["prevent"])),class:"space-y-4"},[r.error?(d(),t("div",B,f(r.error),1)):c("",!0),o("div",null,[e[3]||(e[3]=o("label",{for:"email",class:"block text-sm font-medium mb-2"},"Email",-1)),b(o("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=s=>r.form.email=s),type:"email",required:"",class:g(["w-full rounded-md border bg-background px-3 py-2 text-sm transition-colors disabled:opacity-50 border-input focus:border-ring focus:ring-ring/20",r.fieldErrors.email?"border-red-500":""]),placeholder:"your@email.com"},null,2),[[x,r.form.email]]),r.fieldErrors.email?(d(),t("p",q,f(r.fieldErrors.email),1)):c("",!0)]),o("div",null,[e[4]||(e[4]=o("label",{for:"password",class:"block text-sm font-medium mb-2"},"Пароль",-1)),b(o("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=s=>r.form.password=s),type:"password",required:"",class:g(["w-full rounded-md border bg-background px-3 py-2 text-sm transition-colors disabled:opacity-50 border-input focus:border-ring focus:ring-ring/20",r.fieldErrors.password?"border-red-500":""]),placeholder:"••••••••"},null,2),[[x,r.form.password]]),r.fieldErrors.password?(d(),t("p",D,f(r.fieldErrors.password),1)):c("",!0)]),o("button",{type:"submit",disabled:r.loading,class:"w-full rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed"},[r.loading?(d(),t("span",T,"Вход...")):(d(),t("span",M,"Войти"))],8,L)],32)]),o("div",U,[o("p",j,[e[6]||(e[6]=i(" Нет аккаунта? ",-1)),y(u,{to:"/register",class:"text-primary hover:underline"},{default:v(()=>[...e[5]||(e[5]=[i("Зарегистрироваться",-1)])]),_:1})]),o("p",z,[e[8]||(e[8]=i(" Забыли пароль? ",-1)),y(u,{to:"/forgot-password",class:"text-primary hover:underline"},{default:v(()=>[...e[7]||(e[7]=[i("Восстановить",-1)])]),_:1})])])])])}const F=w(S,[["render",R]]);export{F as default};
