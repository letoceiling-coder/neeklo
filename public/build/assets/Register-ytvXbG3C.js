import{_ as y,c as t,a as o,w,b as n,t as i,d as m,v as f,n as u,e as g,f as k,g as v,r as c,h as _,u as E,i as h,o as d}from"./admin-DjQGoEOB.js";const V={name:"Register",setup(){const p=E(),e=h(),a=c(!1),r=c(""),l=c({}),b=c({name:"",email:"",password:"",password_confirmation:""});return{form:b,loading:a,error:r,fieldErrors:l,handleSubmit:async()=>{a.value=!0,r.value="",l.value={};const s=await p.dispatch("register",b.value);s.success?e.push({name:"admin.dashboard"}):(r.value=s.error,s.fieldErrors&&(l.value=s.fieldErrors)),a.value=!1}}}},S={class:"flex min-h-screen items-center justify-center bg-background px-4"},q={class:"w-full max-w-md space-y-6"},C={class:"rounded-lg border bg-card p-6 shadow-sm"},N={key:0,class:"rounded-md bg-red-50 dark:bg-red-900/20 p-3 text-sm text-red-800 dark:text-red-200"},U={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},B={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},R={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},D={key:1,class:"mt-1 text-xs text-muted-foreground"},M={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},T=["disabled"],j={key:0},z={key:1},A={class:"text-center text-sm text-muted-foreground"};function F(p,e,a,r,l,b){const x=_("router-link");return d(),t("div",S,[o("div",q,[e[11]||(e[11]=o("div",{class:"text-center"},[o("h1",{class:"text-3xl font-bold"},"Регистрация"),o("p",{class:"text-muted-foreground mt-2"},"Создайте новый аккаунт")],-1)),o("div",C,[o("form",{onSubmit:e[4]||(e[4]=w((...s)=>r.handleSubmit&&r.handleSubmit(...s),["prevent"])),class:"space-y-4"},[r.error?(d(),t("div",N,i(r.error),1)):n("",!0),o("div",null,[e[5]||(e[5]=o("label",{for:"name",class:"block text-sm font-medium mb-2"},"Имя",-1)),m(o("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=s=>r.form.name=s),type:"text",required:"",class:u(["w-full rounded-md border bg-background px-3 py-2 text-sm transition-colors disabled:opacity-50 border-input focus:border-ring focus:ring-ring/20",r.fieldErrors.name?"border-red-500":""]),placeholder:"Иван Иванов"},null,2),[[f,r.form.name]]),r.fieldErrors.name?(d(),t("p",U,i(r.fieldErrors.name),1)):n("",!0)]),o("div",null,[e[6]||(e[6]=o("label",{for:"email",class:"block text-sm font-medium mb-2"},"Email",-1)),m(o("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=s=>r.form.email=s),type:"email",required:"",class:u(["w-full rounded-md border bg-background px-3 py-2 text-sm transition-colors disabled:opacity-50 border-input focus:border-ring focus:ring-ring/20",r.fieldErrors.email?"border-red-500":""]),placeholder:"your@email.com"},null,2),[[f,r.form.email]]),r.fieldErrors.email?(d(),t("p",B,i(r.fieldErrors.email),1)):n("",!0)]),o("div",null,[e[7]||(e[7]=o("label",{for:"password",class:"block text-sm font-medium mb-2"},"Пароль",-1)),m(o("input",{id:"password","onUpdate:modelValue":e[2]||(e[2]=s=>r.form.password=s),type:"password",required:"",class:u(["w-full rounded-md border bg-background px-3 py-2 text-sm transition-colors disabled:opacity-50 border-input focus:border-ring focus:ring-ring/20",r.fieldErrors.password?"border-red-500":""]),placeholder:"Минимум 8 символов"},null,2),[[f,r.form.password]]),r.fieldErrors.password?(d(),t("p",R,i(r.fieldErrors.password),1)):(d(),t("p",D," Пароль должен содержать минимум 8 символов "))]),o("div",null,[e[8]||(e[8]=o("label",{for:"password_confirmation",class:"block text-sm font-medium mb-2"},"Подтверждение пароля",-1)),m(o("input",{id:"password_confirmation","onUpdate:modelValue":e[3]||(e[3]=s=>r.form.password_confirmation=s),type:"password",required:"",class:u(["w-full rounded-md border bg-background px-3 py-2 text-sm transition-colors disabled:opacity-50 border-input focus:border-ring focus:ring-ring/20",r.fieldErrors.password_confirmation?"border-red-500":""]),placeholder:"Повторите пароль"},null,2),[[f,r.form.password_confirmation]]),r.fieldErrors.password_confirmation?(d(),t("p",M,i(r.fieldErrors.password_confirmation),1)):n("",!0)]),o("button",{type:"submit",disabled:r.loading,class:"w-full rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed"},[r.loading?(d(),t("span",z,"Регистрация...")):(d(),t("span",j,"Зарегистрироваться"))],8,T)],32)]),o("p",A,[e[10]||(e[10]=g(" Уже есть аккаунт? ",-1)),k(x,{to:"/login",class:"text-primary hover:underline"},{default:v(()=>[...e[9]||(e[9]=[g("Войти",-1)])]),_:1})])])])}const H=y(V,[["render",F]]);export{H as default};
