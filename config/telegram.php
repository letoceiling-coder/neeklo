<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Telegram Bot Token
    |--------------------------------------------------------------------------
    |
    | Токен вашего бота. Получить можно у @BotFather
    |
    */

    'bot_token' => env('TELEGRAM_BOT_TOKEN'),

    /*
    |--------------------------------------------------------------------------
    | Webhook URL
    |--------------------------------------------------------------------------
    |
    | URL для получения обновлений через webhook
    |
    */

    'webhook_url' => env('TELEGRAM_WEBHOOK_URL', env('APP_URL') . '/api/telegram/webhook'),

    /*
    |--------------------------------------------------------------------------
    | Mini App URL
    |--------------------------------------------------------------------------
    |
    | URL вашего Mini App
    |
    */

    'mini_app_url' => env('TELEGRAM_MINI_APP_URL', env('APP_URL')),

    /*
    |--------------------------------------------------------------------------
    | Bot Username
    |--------------------------------------------------------------------------
    |
    | Username вашего бота (без @)
    |
    */

    'bot_username' => env('TELEGRAM_BOT_USERNAME'),

    /*
    |--------------------------------------------------------------------------
    | Required Channels
    |--------------------------------------------------------------------------
    |
    | Список обязательных каналов для подписки
    | Формат: ['@channel1', '@channel2', -1001234567890]
    |
    */

    'required_channels' => [
        // '@your_channel',
    ],

    /*
    |--------------------------------------------------------------------------
    | Admin User IDs
    |--------------------------------------------------------------------------
    |
    | ID администраторов бота
    |
    */

    'admin_ids' => array_filter(explode(',', env('TELEGRAM_ADMIN_IDS', ''))),

    /*
    |--------------------------------------------------------------------------
    | Notifications
    |--------------------------------------------------------------------------
    |
    | Настройки уведомлений
    |
    */

    'notifications' => [
        'enabled' => env('TELEGRAM_NOTIFICATIONS_ENABLED', true),
        'queue' => env('TELEGRAM_NOTIFICATIONS_QUEUE', 'default'),
    ],

    /*
    |--------------------------------------------------------------------------
    | Rate Limiting
    |--------------------------------------------------------------------------
    |
    | Включить автоматический контроль частоты запросов
    |
    */

    'rate_limiting' => [
        'enabled' => env('TELEGRAM_RATE_LIMITING_ENABLED', true),
        'cache_driver' => env('TELEGRAM_RATE_LIMITING_CACHE', 'redis'),
    ],

    /*
    |--------------------------------------------------------------------------
    | Logging
    |--------------------------------------------------------------------------
    |
    | Настройки логирования
    |
    */

    'logging' => [
        'enabled' => env('TELEGRAM_LOGGING_ENABLED', true),
        'channel' => env('TELEGRAM_LOG_CHANNEL', 'stack'),
        'level' => env('TELEGRAM_LOG_LEVEL', 'info'),
    ],

    /*
    |--------------------------------------------------------------------------
    | Validation
    |--------------------------------------------------------------------------
    |
    | Включить автоматическую валидацию данных
    |
    */

    'validation' => [
        'enabled' => env('TELEGRAM_VALIDATION_ENABLED', true),
        'auto_truncate' => env('TELEGRAM_AUTO_TRUNCATE', true), // Автоматически обрезать длинный текст
    ],

    /*
    |--------------------------------------------------------------------------
    | Webhook Settings
    |--------------------------------------------------------------------------
    |
    | Настройки webhook
    |
    */

    'webhook' => [
        'allowed_updates' => [
            'message',
            'callback_query',
            'inline_query',
            'pre_checkout_query',
            'shipping_query',
        ],
        'secret_token' => env('TELEGRAM_WEBHOOK_SECRET'),
        'max_connections' => 40,
    ],

    /*
    |--------------------------------------------------------------------------
    | Payment Settings
    |--------------------------------------------------------------------------
    |
    | Настройки для Telegram Stars и платежей
    |
    */

    'payment' => [
        'provider_token' => env('TELEGRAM_PAYMENT_PROVIDER_TOKEN'),
        'stars_enabled' => env('TELEGRAM_STARS_ENABLED', true),
    ],

];

